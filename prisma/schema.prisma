generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model card {
  id                 BigInt               @id @default(autoincrement())
  type               String?              @db.VarChar
  name               String?              @db.VarChar
  card_description   card_description[]
  card_num_by_player card_num_by_player[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model card_description {
  id          BigInt  @id @default(autoincrement())
  description String?
  card_id     BigInt?
  card        card?   @relation(fields: [card_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model card_num_by_player {
  id            BigInt         @id @default(autoincrement())
  card_id       BigInt?
  player_num_id BigInt?
  quantity      BigInt?
  card          card?          @relation(fields: [card_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  player_number player_number? @relation(fields: [player_num_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model player_number {
  id                 BigInt               @id @default(autoincrement())
  number             BigInt?
  card_num_by_player card_num_by_player[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model user {
  id              BigInt      @id @default(autoincrement())
  created_at      DateTime    @default(now()) @db.Timestamptz(6)
  name            String?
  last_connection DateTime?   @db.Timestamp(6)
  user_stat       user_stat[]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model user_stat {
  id         BigInt   @id @default(autoincrement())
  created_at DateTime @default(now()) @db.Timestamptz(6)
  user_id    BigInt?
  num_game   BigInt?
  num_win    BigInt?
  user       user?    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}
